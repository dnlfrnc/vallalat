<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Knowledge Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Light blue-gray background */
        }
        .quiz-card {
            background-color: #ffffff;
            border: 1px solid #e2e8f0; /* Light gray border */
            box-shadow: 0 6px A12px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s ease-in-out;
            min-height: 400px; /* Ensure cards have a minimum height */
        }
        .answer-option-label {
            display: flex;
            align-items: center;
            padding: 0.75rem 1rem;
            border: 1px solid #cbd5e1;
            border-radius: 0.5rem; /* rounded-lg */
            background-color: #f8fafc;
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            margin-bottom: 0.75rem; /* space-y-3 equivalent */
        }
        .answer-option-label:hover {
            background-color: #e2e8f0;
            border-color: #94a3b8;
        }
        .answer-input[type="radio"], .answer-input[type="checkbox"] {
            width: 1.25rem;
            height: 1.25rem;
            margin-right: 0.75rem;
            flex-shrink: 0;
            appearance: none;
            border: 1px solid #cbd5e1;
            background-color: #fff;
            transition: all 0.2s ease-in-out;
        }
        .answer-input[type="radio"] {
            border-radius: 50%; /* Circle for radio buttons */
        }
        .answer-input[type="radio"]:checked {
            background-color: #3b82f6; /* Blue for checked */
            border-color: #3b82f6;
            box-shadow: inset 0 0 0 4px #fff;
        }
        .answer-input[type="checkbox"] {
            border-radius: 0.25rem; /* Square for checkboxes */
        }
        .answer-input[type="checkbox"]:checked {
            background-color: #3b82f6; /* Blue for checked */
            border-color: #3b82f6;
            /* A custom checkmark using box-shadow */
            background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
        }

        /* Styles for feedback */
        .feedback-message {
            margin-top: 1.5rem;
            padding: 1rem;
            border-radius: 0.5rem;
            font-weight: 600;
            text-align: center;
        }
        .feedback-correct {
            background-color: #d1fae5; color: #065f46; border: 1px solid #34d399;
        }
        .feedback-incorrect {
            background-color: #fee2e2; color: #991b1b; border: 1px solid #ef4444;
        }
        .submit-btn, .next-btn, .restart-btn {
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .submit-btn {
            background-color: #3b82f6; color: #ffffff;
        }
        .submit-btn:hover:not(:disabled) {
            background-color: #2563eb;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .submit-btn:disabled {
            background-color: #93c5fd; cursor: not-allowed; box-shadow: none;
        }
        .next-btn {
            background-color: #10b981; color: #ffffff;
        }
        .next-btn:hover:not(:disabled) {
            background-color: #059669;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .next-btn:disabled {
            background-color: #a7f3d0; cursor: not-allowed; box-shadow: none;
        }
        .restart-btn {
            background-color: #3b82f6; color: #ffffff;
        }
        .score-display {
            background-color: #ecfeff; color: #0f766e; border: 1px solid #2dd4bf;
        }

        /* Styles for highlighting correct/incorrect answers */
        .answer-option-label.correct-highlight {
            background-color: #d1fae5; border-color: #34d399; color: #065f46;
        }
        .answer-option-label.incorrect-highlight {
            background-color: #fee2e2; border-color: #ef4444; color: #991b1b;
        }
    </style>
</head>
<body class="p-4 sm:p-6 md:p-8">
    <div class="max-w-4xl mx-auto">
        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-gray-800">
                Vállalatgazdaságtan Kvíz
            </h1>
        </header>

        <div id="quiz-container" class="quiz-card p-6 sm:p-8 rounded-lg relative">
            <p class="text-sm text-gray-500 mb-4">Question <span id="current-question-number"></span> / <span id="total-quiz-questions"></span></p>
            <h2 id="question-text" class="text-xl sm:text-2xl font-semibold text-gray-900 mb-6"></h2>
            <div id="answers-container" class="space-y-3"></div>
            <div id="feedback-message" class="feedback-message hidden"></div>
            <div class="flex flex-col sm:flex-row justify-between items-center mt-8 space-y-4 sm:space-y-0">
                <button id="submit-button" class="submit-btn w-full sm:w-auto" disabled>Submit Answer</button>
                <button id="next-button" class="next-btn w-full sm:w-auto hidden" disabled>Next Question &rarr;</button>
            </div>
        </div>

        <div id="results-container" class="quiz-card p-6 sm:p-8 rounded-lg text-center hidden">
            <h2 class="text-2xl sm:text-3xl font-semibold text-gray-900 mb-4">Quiz Completed!</h2>
            <p id="score-text" class="text-xl sm:text-2xl font-bold score-display p-4 rounded-lg"></p>
            <button id="restart-button" class="restart-btn mt-6 w-full sm:w-auto">Restart Quiz</button>
        </div>
    </div>
        
    <script>
        // RE-CATEGORIZED and BALANCED Question Pool
        const allQuizData = [
            // Category: Fundamentals & Legal
            { "question": "Milyen jogi formában működhet a vállalkozás?", "answers": [{ "text": "gazdasági társaságként", "is_correct": true }, { "text": "önkormányzatként", "is_correct": false }, { "text": "alkalmazottként", "is_correct": false }], "category": "Fundamentals & Legal" },
            { "question": "Jelölje meg, hogy az alábbi állítások közül melyek igazak! (Egyéni vállalkozó)", "answers": [{ "text": "Az egyéni vállalkozó korlátlanul felelős a vállalkozásért.", "is_correct": true }, { "text": "Az egyéni vállalkozó nem szerepelhet a cégjegyzékben.", "is_correct": false }, { "text": "Az egyéni vállalkozó társasági szerződést köt.", "is_correct": false }], "category": "Fundamentals & Legal" },
            { "question": "Jelölje meg, hogy az alábbi állítások közül melyek igazak! (Közkereseti társaság, Kft)", "answers": [{ "text": "A közkereseti társaság vezetője az ügyvezető.", "is_correct": false }, { "text": "A korlátolt felelősségű társaság vezetője az ügyvezető.", "is_correct": true }, { "text": "A közkereseti társaság jogi személy.", "is_correct": false }], "category": "Fundamentals & Legal" },
            { "question": "Melyik gazdasági szervezetre jellemzőek az alábbiak? saját üzletrészének tulajdonosa lehet; tagjának felelőssége korlátozott; jogi személy", "answers": [{ "text": "korlátolt felelősségű társaság", "is_correct": true }, { "text": "betéti társaság", "is_correct": false }, { "text": "egyesület", "is_correct": false }], "category": "Fundamentals & Legal" },
            { "question": "Válassza ki az alábbiak közül azt, amely nem igaz a szövetkezetekre!", "answers": [{ "text": "minden tagjának azonos jogai vannak", "is_correct": false }, { "text": "jogi személy", "is_correct": false }, { "text": "vezetője az ügyvezető", "is_correct": true }], "category": "Fundamentals & Legal" },
            { "question": "Milyen új vállalkozási formák lehetségesek 2004. május 1. óta Magyarországon is? (Európai társaságok)", "answers": [{ "text": "az európai korlátolt felelősségű társaság", "is_correct": false }, { "text": "az európai szövetkezet", "is_correct": true }, { "text": "az európai részvénytársaság", "is_correct": true }], "category": "Fundamentals & Legal" },
            { "question": "Az alábbi állítások közül melyik igaz? (Üzleti tevékenység alapítvány, egyesület, szövetkezet)", "answers": [{ "text": "Üzleti tevékenységet végezhet alapítvány.", "is_correct": true }, { "text": "Üzleti tevékenységet nem végezhet egyesület.", "is_correct": false }, { "text": "Üzleti tevékenységet végezhet szövetkezet.", "is_correct": true }], "category": "Fundamentals & Legal" },
            { "question": "Az alábbiak közül melyik állítás a helyes? Jelölje meg a helyes választ!", "answers": [{ "text": "Az egyéni cég. jogi személyiséggel rendelkező gazdasági társaság.", "is_correct": false }, { "text": "A Kft. jogi személyiséggel rendelkező gazdasági társaság.", "is_correct": true }, { "text": "Az Rt. jogi személyiséggel nem rendelkező gazdasági társaság.", "is_correct": false }], "category": "Fundamentals & Legal" },
            { "question": "Döntse el, hogy az alábbi állítások közül melyik igaz a Kft. esetén!", "answers": [{ "text": "A tagok felelőssége korlátlan és egyetemleges.", "is_correct": false, "correct_answer": "hamis" }, { "text": "Előre meghatározott törzsbetétekből álló törzstőkével alapítják.", "is_correct": true, "correct_answer": "igaz" }, { "text": "Alapításához szükséges minimális tőke 10 millió forint.", "is_correct": false, "correct_answer": "hamis" }], "category": "Fundamentals & Legal" },
            { "question": "A vállalatelméletek célja...", "answers": [{ "text": "konkrét gazdasági problémák megoldásának kidolgozása.", "is_correct": false }, { "text": "a vállalati működés részletes leírása.", "is_correct": false }, { "text": "a vállalatok létezésének indoklása, létjogosultságuk vizsgálata.", "is_correct": true }, { "text": "szakértői rendszerek kidolgozása, mint tanácsadói funkció.", "is_correct": false }], "category": "Fundamentals & Legal" },
            { "question": "Adja meg, hogy az alábbi vállalati formák közül melyek rendelkeznek jogi személyiséggel!", "answers": [{ "text": "részvénytársaság", "is_correct": true, "correct_answer": "J" }, { "text": "egyéni cég", "is_correct": false, "correct_answer": "N" }, { "text": "betéti társaság", "is_correct": false, "correct_answer": "N" }, { "text": "közkereseti társaság", "is_correct": false, "correct_answer": "N" }, { "text": "korlátolt felelősségű társaság", "is_correct": true, "correct_answer": "J" }, { "text": "egyszemélyes kft.", "is_correct": false, "correct_answer": "N" }], "category": "Fundamentals & Legal" },

            // Category: Strategy & Management
            { "question": "Melyik a részvénytársaság tulajdonosi szervezete?", "answers": [{ "text": "a vezetőség", "is_correct": false }, { "text": "az igazgatósági elnök", "is_correct": false }, { "text": "közgyűlés", "is_correct": true }], "category": "Strategy & Management" },
            { "question": "Válassza ki az alábbiak közül a divizionális szervezeti formára jellemzőket!", "answers": [{ "text": "Az egyes divíziók valamilyen mértékben önállóak.", "is_correct": true }, { "text": "A stratégiai feladatokat központi egységek látják el.", "is_correct": true }, { "text": "A divíziók külön jogi személyek.", "is_correct": false }], "category": "Strategy & Management" },
            { "question": "Válassza ki az alábbi megállapítások közül azt, amely nem jellemző a lineáris szervezeti formára!", "answers": [{ "text": "a szervezet horizontálisan bővíthető", "is_correct": false }, { "text": "a szervezeti egységek önállóak", "is_correct": true }, { "text": "a szervezetre jellemző a szolgálati utak rendszere", "is_correct": false }], "category": "Strategy & Management" },
            { "question": "Válassza ki az alábbiak közül a vállalati szervezeti szinteket!", "answers": [{ "text": "menedzserek", "is_correct": true }, { "text": "képviselők", "is_correct": false }, { "text": "bürokraták", "is_correct": true }], "category": "Strategy & Management" },
            { "question": "Az alábbi állítások közül melyik igaz? (Törzskar, staff)", "answers": [{ "text": "A törzskar (staff) nem a végrehajtó szervezet része.", "is_correct": true }, { "text": "A törzskar csak katonai szervezeteknél használt elem.", "is_correct": false }, { "text": "A törzskar feladata mindig az ellenőrzés.", "is_correct": false }], "category": "Strategy & Management" },
            { "question": "Válassza ki az alábbiak közül, hogy melyek jelentik a tulajdonosi funkciók gyakorlásának módját!", "answers": [{ "text": "közvetlen tulajdonosi felügyelet", "is_correct": true }, { "text": "vagyonkezelőkön keresztül gyakorolt tulajdonlás", "is_correct": true }, { "text": "ingatlankezelőkön keresztül gyakorolt tulajdonlás", "is_correct": false }], "category": "Strategy & Management" },
            { "question": "Válassza ki, hogy a vállalatok vételenél melyik kifejezéseket használják!", "answers": [{ "text": "kivásárlás", "is_correct": true }, { "text": "akvizíció", "is_correct": true }, { "text": "stratégiai szövetség", "is_correct": false }], "category": "Strategy & Management" },
            { "question": "Válassza ki, hogy az alábbiak közül melyik igaz a hálózatos vállalatcsoportra!", "answers": [{ "text": "a hálózatos vállalatcsoportban egy vezető vállalat van", "is_correct": false }, { "text": "a hálózatos vállalatcsoportban több vezető erőközpont található", "is_correct": true }, { "text": "a hálózatos vállalatcsoportban felismerhető a hierarchia", "is_correct": false }], "category": "Strategy & Management" },
            { "question": "Válassza ki, hogy a közvetett tulajdonú vállalatcsoportnak melyik jellemzője!", "answers": [{ "text": "van a csoportban olyan vállalat, amely tulajdonos", "is_correct": true }, { "text": "csak egy tulajdonosa lehet", "is_correct": false }, { "text": "az állam szerepel mint eredeti tulajdonos", "is_correct": true }], "category": "Strategy & Management" },
            { "question": "Jelölje meg, hogy az alábbi állítások igazak! (Stratégiai szövetség)", "answers": [{ "text": "A stratégiai szövetség létrehozható beszerzésre.", "is_correct": true }, { "text": "A vállalatcsoport tagjai között tulajdonosi kapcsolatok vannak.", "is_correct": true }, { "text": "A konzorcium mindig vállalatcsoport.", "is_correct": false }], "category": "Strategy & Management" },
            { "question": "Jelölje meg, hogy az alábbi állítások közül melyik igaz! (Vízó/Küldetés)", "answers": [{ "text": "A vízió megfogalmazása egy több oldalas dokumentumban történik.", "is_correct": false }, { "text": "A küldetésben a vállalkozások alapvető céljaikat fogalmazzák meg.", "is_correct": true }, { "text": "A küldetés elkészítése a bürokraták, szakalkalmazottak feladatkörébe tartozik.", "is_correct": false }], "category": "Strategy & Management" },
            { "question": "Válassza ki, hogy kinek a feladatkörébe tartoznak a szakmai stratégiák kidolgozása!", "answers": [{ "text": "a tulajdonosok feladata", "is_correct": false }, { "text": "a törzskari vezetők feladata", "is_correct": false }, { "text": "a funkcionális vezetők feladata", "is_correct": true }], "category": "Strategy & Management" },
            { "question": "Válassza ki a különféle időtávú tervekre jellemzőket! (Készülhetnek összehangoltan)", "answers": [{ "text": "készülhetnek összehangoltan", "is_correct": true }, { "text": "általában egymástól függetlenek", "is_correct": false }, { "text": "a stratégiai terv alapján készíthetünk üzleti tervet", "is_correct": true }], "category": "Strategy & Management" },
            { "question": "Válassza ki, hogy melyek igazak a menedzser típusú vállalatalapítóra?", "answers": [{ "text": "felsőfokú végzettséggel rendelkezik", "is_correct": true }, { "text": "specializált vállalatot alapít.", "is_correct": true }, { "text": "közvetlen helyi igények kielégítésére jön létre.", "is_correct": false }, { "text": "kezdeti siker esetén gyors növekedésnek indul.", "is_correct": true }], "category": "Strategy & Management" },
            { "question": "Válassza ki a felsorolásból, hogy melyek a stratégiai 5P elemei?", "answers": [{ "text": "jövőkép", "is_correct": true }, { "text": "viselkedés minta", "is_correct": true }, { "text": "ármegállapítás.", "is_correct": false }, { "text": "trükk", "is_correct": true }], "category": "Strategy & Management" },

            // Category: Marketing & Competition
            { "question": "Az alábbiak közül melyek részei a vállalati környezeti tényezők nagy csoportjának?", "answers": [{ "text": "a politikai környezet", "is_correct": true }, { "text": "a stratégiai környezet", "is_correct": false }, { "text": "a társadalmi környezet", "is_correct": true }], "category": "Marketing & Competition" },
            { "question": "Melyik eleme a vállalat politikai környezetének?", "answers": [{ "text": "a szállítók befolyása", "is_correct": false }, { "text": "a vevők", "is_correct": false }, { "text": "a demográfiai helyzet", "is_correct": true }], "category": "Marketing & Competition" },
            { "question": "Jelölje meg, hogy az alábbi állítások igazak! (Üzleti etika)", "answers": [{ "text": "Az üzleti etika a helyes üzleti viselkedésről szól.", "is_correct": true }, { "text": "Az üzleti etika hozzájárulhat a szerződések költségének csökkentéséhez.", "is_correct": true }, { "text": "Az üzleti etika csökkenti a partnerek közötti bizalmat.", "is_correct": false }], "category": "Marketing & Competition" },
            { "question": "Melyek tartoznak az alábbiak közül a PEST-analízis tényezőcsoportjaihoz?", "answers": [{ "text": "az épített környezet", "is_correct": false }, { "text": "a természeti környezet", "is_correct": true }, { "text": "a társadalmi környezet", "is_correct": true }], "category": "Marketing & Competition" },
            { "question": "Jelölje meg, hogy mely állítás igaz! (PEST-analízis)", "answers": [{ "text": "A PEST-analízis készítésekor mérhető tényezőket értékelünk.", "is_correct": true }, { "text": "A PEST-analízis készítésekor nem rendelhetünk súlyszámokat az egyes tényezőkhöz.", "is_correct": false }, { "text": "A PEST-analízis készítésekor súlyszámokat rendelhetünk a tényezőcsoportokhoz.", "is_correct": true }], "category": "Marketing & Competition" },
            { "question": "Döntse el, hogy az alábbi állítások igazak-e! (Vállalati stakeholderek)", "answers": [{ "text": "A vállalati stakeholderek között nem lehet bank.", "is_correct": false }, { "text": "A vállalati stakeholderek rendelkezhetnek szavazati joggal.", "is_correct": true }, { "text": "A vállalati stakeholderek különféle befolyással bírhatnak.", "is_correct": true }], "category": "Marketing & Competition" },
            { "question": "Válassza ki, hogy melyek tartoznak a versenystratégia fő tényezői közé!", "answers": [{ "text": "a vevők alkupozíciója", "is_correct": true }, { "text": "a kiegészítő termékek és azok fenyegetése", "is_correct": false }, { "text": "a szállítók alkupozíciója", "is_correct": true }], "category": "Marketing & Competition" },
            { "question": "Válassza ki, hogy az alábbiak közül melyik jellemző a termék megkülönböztetésén alapuló versenystratégiára!", "answers": [{ "text": "a jó minőség", "is_correct": true }, { "text": "az alacsony ár", "is_correct": false }, { "text": "a márkanev ismeretségére való törekvés", "is_correct": true }], "category": "Marketing & Competition" },
            { "question": "Válassza ki az alábbiak közül melyik hagyományos eleme a marketingmixnek!", "answers": [{ "text": "a promóciós politika", "is_correct": true }, { "text": "a jövedelmezőség", "is_correct": false }, { "text": "a teljesítmény (performance)", "is_correct": false }], "category": "Marketing & Competition" },
            { "question": "Jelölje meg a következő állítások közül melyik igaz! (Marketing eljárás)", "answers": [{ "text": "A marketing eljárás folyamatának első lépése a pozícionálás", "is_correct": false }, { "text": "A marketing szemszögéből a vevő igényei jelentik a kiindulópontot.", "is_correct": true }, { "text": "A piackutatás a marketingtevékenység információs bázisa.", "is_correct": true }], "category": "Marketing & Competition" },
            { "question": "Az alábbiak közül melyek a monopolpiac jellemzői? Jelölje meg a helyes választ!", "answers": [{ "text": "csak egyetlen eladó kínálja a terméket", "is_correct": true }, { "text": "az árat maga a vállalat határozza meg", "is_correct": true }, { "text": "a kínált termék homogén", "is_correct": true }, { "text": "a keresleti görbe meredeksége és a fogyasztók árérzékenysége adott", "is_correct": true }], "category": "Marketing & Competition" },
            { "question": "Az e-business melyik formája foglalkozik a vállalatok közötti információs és kereskedelmi folyamatokkal?", "answers": [{ "text": "B2C", "is_correct": false }, { "text": "B2G", "is_correct": false }, { "text": "C2C", "is_correct": false }, { "text": "B2B", "is_correct": true }], "category": "Marketing & Competition" },

            // Category: Operations & Logistics
            { "question": "Válassza ki az alábbiak közül, melyik adja a termelés inputjait!", "answers": [{ "text": "az értékesítés", "is_correct": false }, { "text": "a beszerzés", "is_correct": true }, { "text": "a tervezés", "is_correct": false }], "category": "Operations & Logistics" },
            { "question": "Jelölje meg, hogy az alábbi állítások közül melyik igaz! (Logisztikai tevékenység)", "answers": [{ "text": "A logisztikai tevékenység nem csak tényleges anyagmozgatást jelent.", "is_correct": true }, { "text": "A logisztikai tevékenység kapcsolódik a termeléshez.", "is_correct": true }, { "text": "A logisztikai tevékenység a beszerzéshez nem kapcsolódik.", "is_correct": false }], "category": "Operations & Logistics" },
            { "question": "Válassza ki, hogy melyik esetben kell közbeszerzési eljárást lefolytatni!", "answers": [{ "text": "minden építési munkánál", "is_correct": false }, { "text": "ha az önkormányzat a törvényi értékhatár feletti építési munkát végeztet", "is_correct": true }, { "text": "minden szolgáltatás igénybevételére, értékhatártól függetlenül", "is_correct": false }], "category": "Operations & Logistics" },
            { "question": "Jelölje meg, hogy az alábbiak közül melyik állítás igaz! (Nagy készletek)", "answers": [{ "text": "A nagy készletek a termelés ellátását bizonytalanná teszik.", "is_correct": false }, { "text": "A nagy készletek gazdaságtalanná tehetik a termelést.", "is_correct": true }, { "text": "A nagy készletek a termelés ellátását biztonságosabbá teszik.", "is_correct": true }], "category": "Operations & Logistics" },
            { "question": "Válassza ki, hogy melyek jelentenek döntési szempontot a termelni-vásárolni között!", "answers": [{ "text": "kereslet nagysága", "is_correct": false }, { "text": "minőségi kérdések", "is_correct": true }, { "text": "gazdasági kérdések", "is_correct": true }], "category": "Operations & Logistics" },
            { "question": "Melyik megállapítások helyesek? A logisztikai tevékenység kapcsolódik...", "answers": [{ "text": "a termeléshez", "is_correct": true }, { "text": "a stratégiai tervezéshez", "is_correct": false }, { "text": "az értékesítéshez", "is_correct": true }], "category": "Operations & Logistics" },
            { "question": "Az ellátási lánc megvalósulási szintjei közé tartozik:", "answers": [{ "text": "közvetlen ellátási lánc", "is_correct": true }, { "text": "tágan értelmezett ellátási lánc", "is_correct": true }, { "text": "közvetett ellátási lánc", "is_correct": false }, { "text": "kiterjesztett ellátási lánc", "is_correct": true }], "category": "Operations & Logistics" },
            { "question": "A gyártási rendszer jellegére vonatkozó típusok közé tartozik:", "answers": [{ "text": "projektrendszerű gyártás", "is_correct": true }, { "text": "folyamatrendszerű gyártás", "is_correct": true }, { "text": "szakaszrendszerű gyártás", "is_correct": false }, { "text": "műhelyrendszerű gyártás", "is_correct": true }], "category": "Operations & Logistics" },
            { "question": "Döntse el, hogy az alábbi állítások közül melyik igaz!", "answers": [{ "text": "A termelési hatékonyság egyik fő tényezője a folyamatos fejlesztés.", "is_correct": true, "correct_answer": "igaz" }, { "text": "A termékszerkezet és a gyártási technológia meghatározó a termelési stratégia kidolgozása során.", "is_correct": true, "correct_answer": "igaz" }, { "text": "A vállalat a termelés során közvetlen kapcsolatba lép a fogyasztóval.", "is_correct": false, "correct_answer": "hamis" }], "category": "Operations & Logistics" },

            // Category: Finance & Investment
            { "question": "Válassza ki, hogy az alábbiak közül melyek a számviteli tevékenység eredményei!", "answers": [{ "text": "a mérleg", "is_correct": true }, { "text": "a vállalatértékelés", "is_correct": false }, { "text": "az eredménykimutatás", "is_correct": true }], "category": "Finance & Investment" },
            { "question": "Melyik amortizációs módszerrel tudjuk a legnagyobb tőkeforrást teremteni, ha minden egyéb tényező változatlan? Jelölje meg a helyes választ!", "answers": [{ "text": "Lineáris leírás", "is_correct": false }, { "text": "Évek száma összege módszer", "is_correct": false }, { "text": "Egységösszegű, abszolút értékű leírás az üzembehelyezéskor", "is_correct": true }, { "text": "Teljesítményarányos nettó érték alapú leírás", "is_correct": false }], "category": "Finance & Investment" },
            { "question": "Egy maradékértékes leírásnál a bruttó érték 25% -a tervezett maradékérték. A gépet 5 évig fogják használni. Mekkora lesz a leírási kulcs (L_m)? Jelölje meg a helyes választ!", "answers": [{ "text": "24,2%", "is_correct": true }, { "text": "22%", "is_correct": false }, { "text": "28,5%", "is_correct": false }, { "text": "20%", "is_correct": false }], "category": "Finance & Investment" },
            { "question": "Egy 2 millió Ft-os gép amortizációját tőkésítik az élettartam 4 éve alatt, az adott év végén mindig kiveszik a kamatokat, hogy karbantartási munkákat fedezzék belőle. Betéti kamat 6%. Mennyi tőkeforrás fog rendelkezésre állni az utolsó használati év után 1 hónappal?", "answers": [{ "text": "2000 EFt", "is_correct": false }, { "text": "1800 EFt", "is_correct": false }, { "text": "2120 EFt", "is_correct": true }, { "text": "2006 EFt", "is_correct": false }], "category": "Finance & Investment" },
            { "question": "Milyen esetben nem javasolt a beruházás megvalósítása? Jelölje meg a helyes választ!", "answers": [{ "text": "PI>1", "is_correct": false }, { "text": "P < IRR", "is_correct": false }, { "text": "BFS>1", "is_correct": false }, { "text": "NPV<0", "is_correct": true }], "category": "Finance & Investment" },
            { "question": "Mekkora a statikus megtérülési ideje egy évi átlagosan 230 EFt nyereséget biztosító 1.380 EFt értékű beruházásnak, ha azt 7 évig amortizálnák? Jelölje meg a helyes választ!", "answers": [{ "text": "4 év", "is_correct": false }, { "text": "5 év", "is_correct": false }, { "text": "6 év", "is_correct": true }, { "text": "7 év", "is_correct": false }], "category": "Finance & Investment" },
            { "question": "Döntse el, hogy egy 3 év múlva esedékes 3.400 EFt mai értéken mennyit ér, ha az állampapír-piaci referenciahozam 4,4%! egész ezresekre kerekítsen!", "answers": [{ "text": "2985 EFt", "is_correct": false }, { "text": "3400 EFt", "is_correct": false }, { "text": "2988 EFt", "is_correct": true }, { "text": "2888 EFt", "is_correct": false }], "category": "Finance & Investment" },
            { "question": "Mi képezheti beruházás tárgyát?", "answers": [{ "text": "A selejt tárgyi eszközök pótlása, cseréje.", "is_correct": true }, { "text": "A dolgozók számára osztott étkezési jegyek beszerzése.", "is_correct": false }, { "text": "A lejárt szavatosságú eladásra szánt raktárkészlet pótlása.", "is_correct": false }, { "text": "A lemezhajlítást végző eszköz karbantartása.", "is_correct": false }], "category": "Finance & Investment" },
            { "question": "Válassza ki a felsorolásból, hogy mely mutatók mérik a likviditást?", "answers": [{ "text": "Készletforgási mutató: Értékesítés nettó árbevétele vagy Értékesített termékek költségei/Készletállomány.", "is_correct": false }, { "text": "Eladósodottsági mutató: Összes idegen forrás/Saját tőke.", "is_correct": false }, { "text": "A forgótőke aránya mutató (likviditási mutató): Forgóeszközök/Rövid lejáratú tartozások.", "is_correct": true }, { "text": "Likviditási gyorsmutató (gyorsteszt): (Forgóeszközök - Készletek)/(Rövid lejáratú tartozások - Számlahitel)", "is_correct": true }], "category": "Finance & Investment" },

            // Category: HR, IT & Innovation
            { "question": "Válassza ki, hogy melyik tartozik a vállalati személyügyi munka környezeti feltételeihez!", "answers": [{ "text": "a szállítók", "is_correct": false }, { "text": "a munkaerőpiac", "is_correct": true }, { "text": "a logisztikai kultúra", "is_correct": false }], "category": "HR, IT & Innovation" },
            { "question": "Válassza ki, hogy az alábbiak közül melyek tartoznak a személyügyi funkció szakmai területeihez!", "answers": [{ "text": "toborzás, képzés, bér- és jövedelempolitika", "is_correct": true }, { "text": "karriertervezés", "is_correct": true }, { "text": "érdekvédelem", "is_correct": false }], "category": "HR, IT & Innovation" },
            { "question": "Jelölje meg a következő állítások közül melyik igaz! (Innováció)", "answers": [{ "text": "Az innováció mindig a termelési vezető irányítása alatt áll.", "is_correct": false }, { "text": "Az innováció marketing indíttatású is lehet.", "is_correct": true }, { "text": "Az innováció folyamata csigavonallal írható le.", "is_correct": true }], "category": "HR, IT & Innovation" },
            { "question": "Jelölje meg, hogy az alábbi állítások közül melyik igaz! (Vállalati információs rendszerek)", "answers": [{ "text": "A vállalati információs rendszerekkel szemben támasztott követelmények közé tartozik, hogy - a vezetők informáltság-szintje a felelősségükkel összhangban legyen.", "is_correct": true }, { "text": "- teljesítse az előírt adatszolgáltatási kötelezettségeket.", "is_correct": true }, { "text": "A vállalati információs rendszerekkel mindig egyedi fejlesztésűek.", "is_correct": false }], "category": "HR, IT & Innovation" },
            { "question": "Válassza ki a megfelelő információt!", "answers": [{ "text": "a valóságot tükrözi", "is_correct": true }, { "text": "idejében érkezik", "is_correct": true }, { "text": "nincs meghatározott tartalma", "is_correct": false }], "category": "HR, IT & Innovation" },
            { "question": "Melyik a legmodernebb innovációs modell?", "answers": [{ "text": "nyílt", "is_correct": false }, { "text": "zárt", "is_correct": false }, { "text": "living lab", "is_correct": true }], "category": "HR, IT & Innovation" },
            { "question": "Ki foglalkozott innovációmenedzsmenttel?", "answers": [{ "text": "Le Hub", "is_correct": false }, { "text": "Drucker", "is_correct": false }, { "text": "Schumpeter", "is_correct": true }], "category": "HR, IT & Innovation" },
            { "question": "Az alábbiak közül melyik nem lehet a Triple Helix modell szereplője?", "answers": [{ "text": "kutatóközpont", "is_correct": false }, { "text": "start-up", "is_correct": false }, { "text": "kormányablak", "is_correct": true }], "category": "HR, IT & Innovation" },
            { "question": "Válassza ki a felsorolásból, hogy melyek igazak Ipar 4.0-ra?", "answers": [{ "text": "a gyártás dinamikusabb, decentralizált", "is_correct": true }, { "text": "M2M technológia meglétét igényli", "is_correct": true }, { "text": "a termékek és az alkatrészek szerepe csökken a termelési folyamatban", "is_correct": false }, { "text": "legfőbb kihívásainak egyike a szervezeti megújulás képessége", "is_correct": true }], "category": "HR, IT & Innovation" },
            { "question": "A személyügyi tevékenységek fejlődésének milyen szakaszait ismerjük? Jelölje meg a helyes választ!", "answers": [{ "text": "Személyügyi gazdálkodás", "is_correct": true }, { "text": "Humán erőforrás menedzsment", "is_correct": true }, { "text": "Nemzetközi összehasonlító HRM", "is_correct": false }, { "text": "Személyügyi adminisztráció", "is_correct": true }], "category": "HR, IT & Innovation" },
            { "question": "A 3D nyomtatás során készített tesztelhető prototípusok melyik információs rendszer része? Jelölje meg a helyes választ!", "answers": [{ "text": "CAM", "is_correct": false }, { "text": "DSS", "is_correct": false }, { "text": "CAD", "is_correct": true }, { "text": "Szakértői rendszerek", "is_correct": false }], "category": "HR, IT & Innovation" },
            
            // Category: Quality & Standards
            { "question": "Válassza ki a vállalati szabványos rendszerek jellemzőit!", "answers": [{ "text": "alapdokumentumuk a kézikönyv", "is_correct": true }, { "text": "nem tanúsíttathatók", "is_correct": false }, { "text": "funkciókat keresztező tevékenységek", "is_correct": true }], "category": "Quality & Standards" },
            { "question": "Jelölje meg a következő állítások közül melyik igaz! (Minőségügyi rendszer)", "answers": [{ "text": "A minőségügyi rendszer szabványa az ISO 9001.", "is_correct": true }, { "text": "A környezetirányítási rendszer szabványa az MSZ 28001.", "is_correct": true }, { "text": "A munkahelyi egészség és biztonság követelményszabványa az ISO 9001.", "is_correct": false }], "category": "Quality & Standards" },
            { "question": "Válassza ki az alábbiak közül az ISO 9001-es szabvány követelményeit!", "answers": [{ "text": "a vevői igények figyelembe vétele", "is_correct": true }, { "text": "a környezeti politika kidolgozása", "is_correct": false }, { "text": "a mérőeszközök kezelése", "is_correct": true }], "category": "Quality & Standards" },
            { "question": "Válassza ki az alábbiak közül a környezetirányítás szabványát!", "answers": [{ "text": "ISO 14004", "is_correct": false }, { "text": "ISO 14001", "is_correct": true }, { "text": "ISO 9004", "is_correct": false }], "category": "Quality & Standards" },
            { "question": "Válassza ki az alábbiak közül az ISO 14001-es szabvány követelményeit!", "answers": [{ "text": "környezetpolitika kidolgozása", "is_correct": true }, { "text": "végrehajtás és működés szabályozása", "is_correct": true }, { "text": "minőségi vezető kinevezése", "is_correct": false }], "category": "Quality & Standards" },
            { "question": "Jelölje meg, hogy az alábbi állítások közül melyik igaz! (Minőségi rendszer működése)", "answers": [{ "text": "A minőségi rendszer működését külső és belső auditokkal ellenőrzik.", "is_correct": true }, { "text": "A tanúsítást csak független tanácsadó végezheti.", "is_correct": true }, { "text": "A rendszerek közvetlen irányítását mindig a legfelső vezető végzi.", "is_correct": false }], "category": "Quality & Standards" },
            { "question": "Jelölje meg, hogy az alábbi állítások közül melyik igaz! (Munkahelyi egészség)", "answers": [{ "text": "A munkahelyi egészség rendszere az ISO 9001 szabvány szerint építhető ki.", "is_correct": true }, { "text": "A munkahelyi egészség és biztonság rendszere nem tanúsíttatható.", "is_correct": false }, { "text": "A munkahelyi egészségi rendszer közvetlen irányítását a legfelső vezető végzi.", "is_correct": false }], "category": "Quality & Standards" }
        ];

        const QUIZ_SIZE = 20;
        let selectedQuizQuestions = [];
        let currentQuestionIndex = 0;
        let answeredCorrectlyCount = 0;

        const quizContainer = document.getElementById('quiz-container');
        const questionText = document.getElementById('question-text');
        const answersContainer = document.getElementById('answers-container');
        const feedbackMessage = document.getElementById('feedback-message');
        const submitButton = document.getElementById('submit-button');
        const nextButton = document.getElementById('next-button');
        const resultsContainer = document.getElementById('results-container');
        const scoreText = document.getElementById('score-text');
        const restartButton = document.getElementById('restart-button');
        const currentQuestionNumberSpan = document.getElementById('current-question-number');
        const totalQuizQuestionsSpan = document.getElementById('total-quiz-questions');

        // Function to shuffle an array (Fisher-Yates shuffle)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // Function to select a balanced set of questions
        function generateQuizQuestions() {
            const categorizedQuestions = allQuizData.reduce((acc, question) => {
                if (!acc[question.category]) {
                    acc[question.category] = [];
                }
                acc[question.category].push(question);
                return acc;
            }, {});

            let tempSelectedQuestions = [];
            const totalQuestionsToPick = QUIZ_SIZE;
            const totalSourceQuestions = allQuizData.length;

            // Shuffle questions within each category first
            for (const category in categorizedQuestions) {
                shuffleArray(categorizedQuestions[category]);
            }

            // Calculate how many questions to pick from each category proportionally
            const questionsToPickPerCategory = {};
            let pickedCount = 0;
            for (const category in categorizedQuestions) {
                const proportion = categorizedQuestions[category].length / totalSourceQuestions;
                questionsToPickPerCategory[category] = Math.round(proportion * totalQuestionsToPick);
                pickedCount += questionsToPickPerCategory[category];
            }

            // Adjust if rounding caused the total to be off
            let difference = pickedCount - totalQuestionsToPick;
            while(difference !== 0) {
                 const categoryKeys = Object.keys(categorizedQuestions);
                 const randomCategory = categoryKeys[Math.floor(Math.random() * categoryKeys.length)];
                 if (difference > 0 && questionsToPickPerCategory[randomCategory] > 0) {
                     questionsToPickPerCategory[randomCategory]--;
                     difference--;
                 } else if (difference < 0 && questionsToPickPerCategory[randomCategory] < categorizedQuestions[randomCategory].length) {
                     questionsToPickPerCategory[randomCategory]++;
                     difference++;
                 }
            }
            
            // Pick the calculated number of questions from each category
            for (const category in questionsToPickPerCategory) {
                const count = questionsToPickPerCategory[category];
                tempSelectedQuestions.push(...categorizedQuestions[category].slice(0, count));
            }

            // Final shuffle of the selected questions
            shuffleArray(tempSelectedQuestions);
            selectedQuizQuestions = tempSelectedQuestions;
            totalQuizQuestionsSpan.textContent = selectedQuizQuestions.length;
        }

        // Function to display the current question
        function displayQuestion() {
            answersContainer.innerHTML = '';
            feedbackMessage.classList.add('hidden');
            feedbackMessage.className = 'feedback-message hidden'; // Reset all feedback classes
            submitButton.classList.remove('hidden');
            submitButton.disabled = true;
            nextButton.classList.add('hidden');
            nextButton.disabled = true;

            currentQuestionNumberSpan.textContent = currentQuestionIndex + 1;

            if (currentQuestionIndex < selectedQuizQuestions.length) {
                const question = selectedQuizQuestions[currentQuestionIndex];
                questionText.textContent = question.question;

                const correctAnswersCount = question.answers.filter(a => a.is_correct).length;
                const inputType = correctAnswersCount === 1 ? 'radio' : 'checkbox';

                question.answers.forEach((answer, index) => {
                    const label = document.createElement('label');
                    label.className = 'answer-option-label relative text-gray-700';

                    const input = document.createElement('input');
                    input.type = inputType;
                    input.name = 'answer-' + currentQuestionIndex;
                    input.value = index;
                    input.className = 'answer-input';

                    input.addEventListener('change', () => {
                        const anyChecked = answersContainer.querySelector('input:checked');
                        submitButton.disabled = !anyChecked;
                    });

                    const span = document.createElement('span');
                    span.textContent = answer.text;
                    span.className = 'text-base flex-grow';

                    label.appendChild(input);
                    label.appendChild(span);
                    answersContainer.appendChild(label);
                });
            } else {
                showResults();
            }
        }

        // Function to check the selected answer(s)
        function checkAnswer() {
            submitButton.disabled = true;
            nextButton.classList.remove('hidden');
            nextButton.disabled = false;

            const question = selectedQuizQuestions[currentQuestionIndex];
            const selectedAnswerInputs = Array.from(answersContainer.querySelectorAll('input:checked'));
            const selectedAnswersValues = selectedAnswerInputs.map(input => parseInt(input.value));
            const correctAnswersIndices = question.answers.map((answer, index) => answer.is_correct ? index : -1).filter(index => index !== -1);

            let isCurrentQuestionCorrect = selectedAnswersValues.length === correctAnswersIndices.length &&
                                         correctAnswersIndices.every(correctIndex => selectedAnswersValues.includes(correctIndex));

            if (isCurrentQuestionCorrect) {
                answeredCorrectlyCount++;
                feedbackMessage.textContent = 'Correct! 🎉';
                feedbackMessage.classList.add('feedback-correct');
            } else {
                feedbackMessage.textContent = 'Incorrect! 😔';
                feedbackMessage.classList.add('feedback-incorrect');
            }
            feedbackMessage.classList.remove('hidden');

            // Highlight answers and disable all inputs
            question.answers.forEach((answer, index) => {
                const label = answersContainer.querySelector(`label:nth-child(${index + 1})`);
                const input = label.querySelector('input');
                input.disabled = true;

                if (answer.is_correct) {
                    label.classList.add('correct-highlight');
                } else if (selectedAnswersValues.includes(index)) {
                    label.classList.add('incorrect-highlight');
                }
            });
        }

        // Function to move to the next question
        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < selectedQuizQuestions.length) {
                displayQuestion();
            } else {
                showResults();
            }
        }

        // Function to show quiz results
        function showResults() {
            quizContainer.classList.add('hidden');
            resultsContainer.classList.remove('hidden');
            const finalScore = selectedQuizQuestions.length > 0 ? (answeredCorrectlyCount / selectedQuizQuestions.length) * 100 : 0;
            scoreText.innerHTML = `You answered <strong class="text-blue-600">${answeredCorrectlyCount}</strong> out of <strong class="text-blue-600">${selectedQuizQuestions.length}</strong> questions correctly.<br>Your score: <strong class="text-blue-600">${finalScore.toFixed(1)}%</strong>`;
        }

        function startNewQuiz() {
            currentQuestionIndex = 0;
            answeredCorrectlyCount = 0;
            resultsContainer.classList.add('hidden');
            quizContainer.classList.remove('hidden');
            generateQuizQuestions();
            displayQuestion();
        }

        // Event Listeners
        submitButton.addEventListener('click', checkAnswer);
        nextButton.addEventListener('click', nextQuestion);
        restartButton.addEventListener('click', startNewQuiz);

        // Initial quiz setup
        window.onload = startNewQuiz;
    </script>
</body>
</html>
